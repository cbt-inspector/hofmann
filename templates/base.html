<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}{% endblock %}</title>
    {% block style %}{% endblock %}
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

      :root {
        --primary: #F5F5F5;
        --secondary: #000000;
        --tertiary: #000000;
        --quartary: #0000ff;
        --quintary: #d7d7d7;

        overflow-y: scroll;
      }

      .dark {
        --primary: #0d191d;
        --secondary: #ffffff;
        --tertiary: #00b068;
        --quartary: #5369fc;
        --quintary: #13242a;
      }

      ::-webkit-scrollbar {
        width: 9px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
        z-index: 0;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--quintary);
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--quintary);
      }

      body {
        background: var(--primary);
      }

      hr {
        background: var(--secondary);
      }

      button {
            width: 50px;
            height: 50px;
            cursor: pointer;

        }
        .darkswitch {
            background-color:#F5F5F5;
            border-radius:50%;
            position: relative;
            left: 96%;
            top:-100px;
            transition-duration: 0.4s;
            border:0;
            display: inline-block;
        }
        .darkswitch:hover {
            background-color: #00b068;

        }

    #header > #sep {
        position:relative;
        top:-90px;
    }

    #footer p {
      margin: 0;
    }

    .content {
      width: intrinsic;           /* Safari/WebKit uses a non-standard name */
      width: -moz-max-content;    /* Firefox/Gecko */
      width: -webkit-max-content; /* Chrome */
      width: max-content;
    }

    div.content {
        position:relative;
        top: -80px;
    }

      h1, h2, p, a, span {
        font-family: 'Montserrat', sans-serif;
      }
      p {color: var(--tertiary)}
      a {
        font-size: 28px;
        color: var(--quartary);
        text-decoration: none;
      }
      h1 {
        font-size: 42px;
        color: var(--secondary);
      }
      h2 {
        margin: 5px;
        font-size: 34px;
        color: var(--tertiary);
      }
      .maincontainer {
        z-index: 1;
        overflow: hidden;
      }
      .xcontainer {
        overflow: hidden;
      }
      .xdrop {
        margin-left: 25px;
        border: solid var(--secondary);
        border-width: 0 0 0 2px;
        border-radius: 5px;
        padding-left: 20px;
        max-height: 0;
        transition-duration: 1.2s;
      }
      .xcontainer:hover .xdrop {
        max-height: 2000px;
      }
      #footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 105%;
        height: 5%;
        background-color: var(--quintary);
        color: var(--secondary);
        text-align: center;
        z-index: 1;
      }
      #footer > #sep {
        position: relative;
        bottom: 10px;
        color:#35393F;
      }

      .phpadmin {
        position: relative;
        left:85%;
        top: -95px;
        border:0;
        border-radius:100%;
        background-color: var(--primary);
        width: 50px;
        height: 50px;
        cursor: pointer;
        transition-duration: 0.4s;
      }
      .phpadmin :hover{
/*         background: var(--tertiary); */
      }

      /* Popup container - can be anything you want */
        .popup {
        position: fixed;
        top:75%;
        left:25%;
        display: inline-block;
        }

        /* The actual popup */
        .popup .popuptext {
        visibility: hidden;
        width: 800px;/*160px;*/
        height: 600px;
        background-color: var(--tertiary);
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -80px;
        }

        .popup .popuptext::after {

        }

        .popup .popupbutton {
            position: absolute;
            bottom: 10px;
            width: 100px;
            border:2;
            border-color:var(--primary);
            border-radius: 6px;
        }

        .popup .popupbutton :hover{
            background-color:red;
        }
        .popup #popuptitle {
            color: #FFFFFF;
        }

        .popup #cookiesAccept {
            position: absolute;
            right: 35%;
        }

        .popup #cookiesDecline {
            position: absolute;
            left: 35%;
        }

        /* Toggle this class - hide and show the popup */
        .popup .show {
        visibility: visible;
        -webkit-animation: fadeIn 1s;
        animation: fadeIn 1s;
        }

        /* Add animation (fade in the popup) */
        @-webkit-keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
        }

        @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity:1 ;}
        }

        #footer .privacy {
            position: relative;
            bottom:7px;
            font-size:12px;
            text-decoration:none;
            color:var(--tertiary);
            text-align: center;
            left:-40px;

        }
        #footer .about {
            position: relative;
            bottom: 7px;
            right:-20px;
            font-size:12px;
            text-decoration:none;
            color:var(--tertiary);
            text-align: center;

        }



    </style>
  </head>
  <body onLoad="onLoad()">
    <script>
    var dark
    let cookies = false

    function darkmode() {

      var element = document.body;
      element.classList.toggle("dark");



      if (dark != true){

        if (cookies){
            document.cookie = "darkmode=true;"
        }
        document.getElementById("darkbutton").innerHTML = "<img src=\"/static/assets/dark.png\" width=\"30\" height=\"30\">"

        document.getElementById("navicon").backgroundColor = "white"
        dark = true

      } else {
        if (cookies){
            document.cookie = "darkmode=false;"
        }
        dark = false

        document.getElementById("darkbutton").innerHTML = "<img src=\"/static/assets/light.png\" width=\"30\" height=\"30\">"

      }
    }


    function recoverDark() {

        let cookie = document.cookie

        if(cookie.indexOf("cookies=true") >= 0){
            cookies=true
        }

        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
            darkmode()
        }


        if(cookie.indexOf("darkmode=true") >= 0){
            var element = document.body;
            element.classList.toggle("dark");

            document.getElementById("darkbutton").innerHTML = "<img src=\"/static/assets/light.png\" width=\"30\" height=\"30\">"
            dark = true
        } else {
            dark = false
        }
    }

    function togglePopup(){

        var popup = document.getElementById("Popup");
        popup.classList.toggle("show");

    }

    function acceptCookies(){
        togglePopup()

        document.cookie="cookies=true"

        cookies=true
    }

    function onLoad(){
        recoverDark()

        if(!cookies){
            togglePopup()
        }
    }
    </script>
    <div class="maincontainer">
    <div id="header">
        <h1>Joachim Hofmann</h1>
      <button class="darkswitch" type="button" onclick="darkmode()" id="darkbutton"><img src="/static/assets/dark.png" width="30" height="30"></button>
      <a class="phpadmin" type="button" href="/phpmyadmin"><img src="/static/assets/phpmyadmin.png" width="50" height="50"></a>
      <hr id="sep">
    </div>
    <div class="content">
      {% block body %}
      {% endblock %}
    </div>
    </div>
    <div id="footer">
    <hr id="sep">
        <a class="privacy" href="/datenschutz">Datenschutz</a>
        <a class="about" href="/about">Ãœber</a>

    </div>

     <div class="popup">
        <span class="popuptext" id="Popup"><h1 id="popuptitle">This Website needs Cookies for the Dark mode to work!</h1>
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
        <br>
        <button class="popupbutton" id="cookiesAccept" onclick="acceptCookies()">Accept</button>
        <button class="popupbutton" id="cookiesDecline" onclick="togglePopup()">Decline</button>
        </span>
    </div>

  </body>
</html>
